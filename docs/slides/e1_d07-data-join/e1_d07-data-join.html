<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>rstatsZH - Data Science mit R</title>
    <meta charset="utf-8" />
    <meta name="author" content="Lars Schöbitz" />
    <meta name="date" content="2020-04-29" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/font-awesome/css/all.css" rel="stylesheet" />
    <link href="libs/font-awesome/css/v4-shims.css" rel="stylesheet" />
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/shareon/shareon.min.css" rel="stylesheet" />
    <script src="libs/shareon/shareon.min.js"></script>
    <link href="libs/xaringanExtra-shareagain/shareagain.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-shareagain/shareagain.js"></script>
    <link rel="stylesheet" href="../assets/css/xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="../assets/css/my-css-style.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">


class: title-slide




&lt;script async defer data-domain="rstatszh.github.io/website" src="https://plausible.io/js/plausible.js"&gt;&lt;/script&gt;






# rstatsZH - Data Science mit R
## Mit mehreren Dataframes arbeiten / Tabellen darstellen 

.bottom[

<p>Lars Schöbitz</p><p>2020-04-29</p>
]

---
# Rückblick - Woche 6 



---
class: middle, inverse

# Hausaufgabe 6

---
# Hausaufgabe 6

.question[Gibt es Fragen?]

---
# Ziele für diese Woche

Am Ende dieser Woche könnt ihr:


---
class: middle, inverse

# .big[Mit mehreren Dataframes arbeiten]

---
class: middle

# .hand[Wir...]

.huge[.green[haben]] .hand[mehrere Dataframes]

.huge[.pink[wollen]] .hand[diese zusammenbringen]



---
## Data: Women in science 

Informationen zu 10 Frauen in der Wissenschaft welche die Welt verändert haben

.small[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; name &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Ada Lovelace &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Marie Curie &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Janaki Ammal &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Chien-Shiung Wu &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Katherine Johnson &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Rosalind Franklin &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Vera Rubin &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Gladys West &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Flossie Wong-Staal &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Jennifer Doudna &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]


.footnote[
Quelle: [Discover Magazine](https://www.discovermagazine.com/the-sciences/meet-10-women-in-science-who-changed-the-world)
]

???
Daten kommen aus dem Discover Magazine. Daten aus dem Artikel herausgeholt. 

---
## Inputs - Drei Dataframes

.panelset[

.panel[.panel-name[professions]

```
# A tibble: 10 x 2
  name              profession           
  &lt;chr&gt;             &lt;chr&gt;                
1 Ada Lovelace      Mathematician        
2 Marie Curie       Physicist and Chemist
3 Janaki Ammal      Botanist             
4 Chien-Shiung Wu   Physicist            
5 Katherine Johnson Mathematician        
6 Rosalind Franklin Chemist              
# … with 4 more rows
```
]


.panel[.panel-name[dates]

```
# A tibble: 8 x 3
  name              birth_year death_year
  &lt;chr&gt;                  &lt;dbl&gt;      &lt;dbl&gt;
1 Janaki Ammal            1897       1984
2 Chien-Shiung Wu         1912       1997
3 Katherine Johnson       1918       2020
4 Rosalind Franklin       1920       1958
5 Vera Rubin              1928       2016
6 Gladys West             1930         NA
# … with 2 more rows
```
]

.panel[.panel-name[works]

```
# A tibble: 9 x 2
  name           known_for                                       
  &lt;chr&gt;          &lt;chr&gt;                                           
1 Ada Lovelace   first computer algorithm                        
2 Marie Curie    theory of radioactivity,  discovery of elements…
3 Janaki Ammal   hybrid species, biodiversity protection         
4 Chien-Shiung … confim and refine theory of radioactive beta de…
5 Katherine Joh… calculations of orbital mechanics critical to s…
6 Vera Rubin     existence of dark matter                        
# … with 3 more rows
```
]

]

???
.small[
**Professions**
 
Hier sehen wir die berufsbezeichungen der 10 Wissenschatfler_innen welche in dem Artikelk auftauchen. So haben wir:

- Namen: Ada lovelace
- Profession (Berufsbezeichnung): Sie war Mathematikerin

**Dates**

Wir haben einen weiteren Dataframe mit dem Namen "dates" in welchem wir nur Info zu 8 der Wissenschaftlerinnen haben. 

Wir hätten zwar die zwei fehlenden nachschlagen können, aber in diesem Beispiel soll es darum gehen zu zeigen wie die Funktionen sich bei nicht vollständigen Daten verhalten. 

Wir sehen zwei NAs. Dies heisst nicht dass wir das Todesjahr nicht wissen, sondern dass diese Wissenschaftlerinenn noch leben. 

**Works**

Einen dritten Dataframe in welchem wir sehen wofür die Wissenschaftlerinnen bekannt waren. Zum Beispiel for Ada Lovelace wir sehen den ersten Computer algorhyhtmus.

] 
---
## Gewünschter Output


```
# A tibble: 10 x 5
   name     profession    birth_year death_year known_for        
   &lt;chr&gt;    &lt;chr&gt;              &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;            
 1 Ada Lov… Mathematician         NA         NA first computer a…
 2 Marie C… Physicist an…         NA         NA theory of radioa…
 3 Janaki … Botanist            1897       1984 hybrid species, …
 4 Chien-S… Physicist           1912       1997 confim and refin…
 5 Katheri… Mathematician       1918       2020 calculations of …
 6 Rosalin… Chemist             1920       1958 &lt;NA&gt;             
 7 Vera Ru… Astronomer          1928       2016 existence of dar…
 8 Gladys … Mathematician       1930         NA mathematical mod…
 9 Flossie… Virologist a…       1947         NA first scientist …
10 Jennife… Biochemist          1964         NA one of the prima…
```

???

Hier sehen wir unseren gewünschten Output. Das Ziel nachdem die drei Dataframes zusammengefügt wurden:

- name und profession aus dem ersten Dataframe
- name, birth_year und death_year aus dem zweiten Dataframe
- name und known_for aus dem dritten Dataframe

---
## Inputs als Erinnerung

.pull-left[

```r
names(professions)
```

```
[1] "name"       "profession"
```

```r
names(dates)
```

```
[1] "name"       "birth_year" "death_year"
```

```r
names(works)
```

```
[1] "name"      "known_for"
```
]

.pull-right[

```r
nrow(professions)
```

```
[1] 10
```

```r
nrow(dates)
```

```
[1] 8
```

```r
nrow(works)
```

```
[1] 9
```
]


???

- Name ist hier sozusagen der Schlüssel
- Professions hat die komplette Info während bei den anderen etwas fehlt 

---
class: middle, inverse

# Dataframes zusammenfügen

---

## Dataframes zusammenfügen


```r
abcd_join(x, y)
```

- `left_join()`: alle Reihen aus x
- `right_join()`: alle Reihen aus y
- `full_join()`: alle Reihen aus x und y
- ...
 
---
## Beispiel 

Für die nächsten Folien

.pull-left[


```
# A tibble: 3 x 2
     id var_x
  &lt;dbl&gt; &lt;chr&gt;
1     1 x1   
2     2 x2   
3     3 x3   
```
]
.pull-right[


```
# A tibble: 3 x 2
     id var_y
  &lt;dbl&gt; &lt;chr&gt;
1     1 y1   
2     2 y2   
3     4 y4   
```
]

---

## `left_join()`

.pull-left[
&lt;img src="img/left-join.gif" width="80%" style="background-color: #FDF6E3" style="display: block; margin: auto;" /&gt;
]
.pull-right[

```r
left_join(tib_x, tib_y)
```

```
# A tibble: 3 x 3
     id var_x var_y
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 x1    y1   
2     2 x2    y2   
3     3 x3    &lt;NA&gt; 
```
]

---

## `left_join()`


```r
professions %&gt;%
* left_join(dates)
```



```
# A tibble: 10 x 4
   name           profession                birth_year death_year
   &lt;chr&gt;          &lt;chr&gt;                          &lt;dbl&gt;      &lt;dbl&gt;
 1 Ada Lovelace   Mathematician                     NA         NA
 2 Marie Curie    Physicist and Chemist             NA         NA
 3 Janaki Ammal   Botanist                        1897       1984
 4 Chien-Shiung … Physicist                       1912       1997
 5 Katherine Joh… Mathematician                   1918       2020
 6 Rosalind Fran… Chemist                         1920       1958
 7 Vera Rubin     Astronomer                      1928       2016
 8 Gladys West    Mathematician                   1930         NA
 9 Flossie Wong-… Virologist and Molecular…       1947         NA
10 Jennifer Doud… Biochemist                      1964         NA
```

---

## `right_join()`

.pull-left[
&lt;img src="img/right-join.gif" width="80%" style="background-color: #FDF6E3" style="display: block; margin: auto;" /&gt;
]
.pull-right[

```r
right_join(tib_x, tib_y)
```

```
# A tibble: 3 x 3
     id var_x var_y
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 x1    y1   
2     2 x2    y2   
3     4 &lt;NA&gt;  y4   
```
]

---

## `right_join()`



```r
professions %&gt;%
* right_join(dates)
```



```
# A tibble: 8 x 4
  name           profession                 birth_year death_year
  &lt;chr&gt;          &lt;chr&gt;                           &lt;dbl&gt;      &lt;dbl&gt;
1 Janaki Ammal   Botanist                         1897       1984
2 Chien-Shiung … Physicist                        1912       1997
3 Katherine Joh… Mathematician                    1918       2020
4 Rosalind Fran… Chemist                          1920       1958
5 Vera Rubin     Astronomer                       1928       2016
6 Gladys West    Mathematician                    1930         NA
7 Flossie Wong-… Virologist and Molecular …       1947         NA
8 Jennifer Doud… Biochemist                       1964         NA
```

---

## `full_join()`

.pull-left[
&lt;img src="img/full-join.gif" width="80%" style="background-color: #FDF6E3" style="display: block; margin: auto;" /&gt;
]
.pull-right[

```r
full_join(tib_x, tib_y)
```

```
# A tibble: 4 x 3
     id var_x var_y
  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1     1 x1    y1   
2     2 x2    y2   
3     3 x3    &lt;NA&gt; 
4     4 &lt;NA&gt;  y4   
```
]

---

## `full_join()`


```r
dates %&gt;%
* full_join(works)
```


```
# A tibble: 10 x 4
   name       birth_year death_year known_for                    
   &lt;chr&gt;           &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;                        
 1 Janaki Am…       1897       1984 hybrid species, biodiversity…
 2 Chien-Shi…       1912       1997 confim and refine theory of …
 3 Katherine…       1918       2020 calculations of orbital mech…
 4 Rosalind …       1920       1958 &lt;NA&gt;                         
 5 Vera Rubin       1928       2016 existence of dark matter     
 6 Gladys We…       1930         NA mathematical modeling of the…
 7 Flossie W…       1947         NA first scientist to clone HIV…
 8 Jennifer …       1964         NA one of the primary developer…
 9 Ada Lovel…         NA         NA first computer algorithm     
10 Marie Cur…         NA         NA theory of radioactivity,  di…
```


???

---

## Alles in einer Code Sequenz


```r
professions %&gt;%
  left_join(dates) %&gt;%
  left_join(works)
```


```
# A tibble: 10 x 5
   name     profession    birth_year death_year known_for        
   &lt;chr&gt;    &lt;chr&gt;              &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;            
 1 Ada Lov… Mathematician         NA         NA first computer a…
 2 Marie C… Physicist an…         NA         NA theory of radioa…
 3 Janaki … Botanist            1897       1984 hybrid species, …
 4 Chien-S… Physicist           1912       1997 confim and refin…
 5 Katheri… Mathematician       1918       2020 calculations of …
 6 Rosalin… Chemist             1920       1958 &lt;NA&gt;             
 7 Vera Ru… Astronomer          1928       2016 existence of dar…
 8 Gladys … Mathematician       1930         NA mathematical mod…
 9 Flossie… Virologist a…       1947         NA first scientist …
10 Jennife… Biochemist          1964         NA one of the prima…
```

---
.note[

# Praktikum 10 - Daten zusammenfügen 

## 2er Teams

1. **E-Mail**: Öffne deine Email und klicke auf den Link zu deinem persönlichen GitHub repo
2. **GitHub**: Klicke auf den grünen Button "Code" und kopiere den Link für das Repo in deine Zwischenablage
3. **RStudio Cloud**: Öffne deinen Arbeitsbereich für den Kurs in der RStudio Cloud
4. **RStudio Cloud / Projects**: Klicke auf "New Project from GitHub Repository" 

]





---
## Inputs - Drei Dataframes

.panelset[

.panel[.panel-name[einkaeufe]

```
# A tibble: 9 x 4
  kunden_id produkt_name einkauf einheit
  &lt;chr&gt;     &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;  
1 k1        Chips            2   anzahl 
2 k1        Milch            3   anzahl 
3 k1        Avocado          1   anzahl 
4 k2        Pfirsich         2.5 kg     
5 k2        Birne            0.5 kg     
6 k2        Apfel            2   kg     
7 k2        Tomate           1.5 kg     
8 k2        Pfirsich         1   kg     
9 k2        Milch            4   anzahl 
```
]


.panel[.panel-name[preise]

```
# A tibble: 10 x 2
   produkt_name    preis
   &lt;chr&gt;           &lt;dbl&gt;
 1 Toilettenpapier  14.3
 2 Chips             3.8
 3 Blaubeeren        7.8
 4 Milch             2.2
 5 Avocado           3.2
 6 Banane            1.9
 7 Birne             2.6
 8 Apfel             4.1
 9 Tomate            2.7
10 Pfirsich          6.5
```
]

.panel[.panel-name[kundenprofile]

```
# A tibble: 5 x 10
  kunden_id email    phone  vorname nachname wohnort kanton   plz
  &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;  &lt;dbl&gt;
1 k1        edwin.d… 075 4… Edwin   Dumont   Domles… Zug     8099
2 k2        leonora… 076 8… Leonora Garcia   Hornus… Glarus  6894
3 k3        lydia.b… 079 4… Lydia   Blancha… Albula… Zug     5790
4 k4        maeva.m… 076 8… Maeva   Moreau   Lostal… Zürich  8113
5 k5        frank.l… 077 4… Frank   Legrand  Stein … Bern    4282
# … with 2 more variables: geburtstag &lt;date&gt;, alter &lt;dbl&gt;
```
]

]



---
## Gewünschter Output

<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#plcwisvdhj .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#plcwisvdhj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#plcwisvdhj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#plcwisvdhj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#plcwisvdhj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#plcwisvdhj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#plcwisvdhj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#plcwisvdhj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#plcwisvdhj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#plcwisvdhj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#plcwisvdhj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#plcwisvdhj .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#plcwisvdhj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#plcwisvdhj .gt_from_md > :first-child {
  margin-top: 0;
}

#plcwisvdhj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#plcwisvdhj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#plcwisvdhj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#plcwisvdhj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#plcwisvdhj .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#plcwisvdhj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#plcwisvdhj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#plcwisvdhj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#plcwisvdhj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#plcwisvdhj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#plcwisvdhj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#plcwisvdhj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#plcwisvdhj .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#plcwisvdhj .gt_left {
  text-align: left;
}

#plcwisvdhj .gt_center {
  text-align: center;
}

#plcwisvdhj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#plcwisvdhj .gt_font_normal {
  font-weight: normal;
}

#plcwisvdhj .gt_font_bold {
  font-weight: bold;
}

#plcwisvdhj .gt_font_italic {
  font-style: italic;
}

#plcwisvdhj .gt_super {
  font-size: 65%;
}

#plcwisvdhj .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="plcwisvdhj" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">vorname</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">nachname</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">summe</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">email</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Edwin</td>
      <td class="gt_row gt_left">Dumont</td>
      <td class="gt_row gt_right">9.2</td>
      <td class="gt_row gt_left">edwin.dumont@example.com</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Leonora</td>
      <td class="gt_row gt_left">Garcia</td>
      <td class="gt_row gt_right">24.6</td>
      <td class="gt_row gt_left">leonora.garcia@example.com</td>
    </tr>
  </tbody>
  
  
</table></div>

---
## Schritt 1 


```r
einkaeufe_preise &lt;- einkaeufe %&gt;% 
  left_join(preise)

einkaeufe_preise
```


```
# A tibble: 9 x 5
  kunden_id produkt_name einkauf einheit preis
  &lt;chr&gt;     &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;
1 k1        Chips            2   anzahl    3.8
2 k1        Milch            3   anzahl    2.2
3 k1        Avocado          1   anzahl    3.2
4 k2        Pfirsich         2.5 kg        6.5
5 k2        Birne            0.5 kg        2.6
6 k2        Apfel            2   kg        4.1
7 k2        Tomate           1.5 kg        2.7
8 k2        Pfirsich         1   kg        6.5
9 k2        Milch            4   anzahl    2.2
```

---
## Schritt 2


```r
einkaeufe_preise_sum &lt;- einkaeufe_preise %&gt;% 
  group_by(kunden_id) %&gt;% 
  summarise(
    summe = sum(preis)
  )

einkaeufe_preise_sum
```


```
# A tibble: 2 x 2
  kunden_id summe
  &lt;chr&gt;     &lt;dbl&gt;
1 k1          9.2
2 k2         24.6
```


---
## Schritt 3


```r
kunden_tab &lt;- einkaeufe_preise_sum %&gt;% 
  left_join(kundenprofile) %&gt;% 
  select(ends_with("name"), summe, email)

kunden_tab
```


```
# A tibble: 2 x 4
  vorname nachname summe email                     
  &lt;chr&gt;   &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;                     
1 Edwin   Dumont     9.2 edwin.dumont@example.com  
2 Leonora Garcia    24.6 leonora.garcia@example.com
```

---
## Schritt 4


```r
kunden_tab %&gt;% 
  gt()
```

<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#kbuovqfxsf .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#kbuovqfxsf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kbuovqfxsf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#kbuovqfxsf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#kbuovqfxsf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kbuovqfxsf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kbuovqfxsf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#kbuovqfxsf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#kbuovqfxsf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#kbuovqfxsf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#kbuovqfxsf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#kbuovqfxsf .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#kbuovqfxsf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#kbuovqfxsf .gt_from_md > :first-child {
  margin-top: 0;
}

#kbuovqfxsf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#kbuovqfxsf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#kbuovqfxsf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#kbuovqfxsf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kbuovqfxsf .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#kbuovqfxsf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kbuovqfxsf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#kbuovqfxsf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#kbuovqfxsf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kbuovqfxsf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kbuovqfxsf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#kbuovqfxsf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kbuovqfxsf .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#kbuovqfxsf .gt_left {
  text-align: left;
}

#kbuovqfxsf .gt_center {
  text-align: center;
}

#kbuovqfxsf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#kbuovqfxsf .gt_font_normal {
  font-weight: normal;
}

#kbuovqfxsf .gt_font_bold {
  font-weight: bold;
}

#kbuovqfxsf .gt_font_italic {
  font-style: italic;
}

#kbuovqfxsf .gt_super {
  font-size: 65%;
}

#kbuovqfxsf .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="kbuovqfxsf" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">vorname</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">nachname</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">summe</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">email</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Edwin</td>
      <td class="gt_row gt_left">Dumont</td>
      <td class="gt_row gt_right">9.2</td>
      <td class="gt_row gt_left">edwin.dumont@example.com</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Leonora</td>
      <td class="gt_row gt_left">Garcia</td>
      <td class="gt_row gt_right">24.6</td>
      <td class="gt_row gt_left">leonora.garcia@example.com</td>
    </tr>
  </tbody>
  
  
</table></div>

---
## Als eine Code Sequenz


```r
einkaeufe %&gt;%
  left_join(preise) %&gt;%
  group_by(kunden_id) %&gt;% 
  summarise(
    summe = sum(preis)
  ) %&gt;% 
  left_join(kundenprofile) %&gt;% 
  select(ends_with("name"), summe, email) %&gt;% 
  gt()
```

<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#qqyhzqhjov .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qqyhzqhjov .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qqyhzqhjov .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qqyhzqhjov .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qqyhzqhjov .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qqyhzqhjov .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qqyhzqhjov .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qqyhzqhjov .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qqyhzqhjov .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qqyhzqhjov .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qqyhzqhjov .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qqyhzqhjov .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#qqyhzqhjov .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qqyhzqhjov .gt_from_md > :first-child {
  margin-top: 0;
}

#qqyhzqhjov .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qqyhzqhjov .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qqyhzqhjov .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#qqyhzqhjov .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qqyhzqhjov .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#qqyhzqhjov .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qqyhzqhjov .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qqyhzqhjov .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qqyhzqhjov .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qqyhzqhjov .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qqyhzqhjov .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#qqyhzqhjov .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qqyhzqhjov .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#qqyhzqhjov .gt_left {
  text-align: left;
}

#qqyhzqhjov .gt_center {
  text-align: center;
}

#qqyhzqhjov .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qqyhzqhjov .gt_font_normal {
  font-weight: normal;
}

#qqyhzqhjov .gt_font_bold {
  font-weight: bold;
}

#qqyhzqhjov .gt_font_italic {
  font-style: italic;
}

#qqyhzqhjov .gt_super {
  font-size: 65%;
}

#qqyhzqhjov .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="qqyhzqhjov" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">vorname</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">nachname</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">summe</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">email</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left">Edwin</td>
      <td class="gt_row gt_left">Dumont</td>
      <td class="gt_row gt_right">9.2</td>
      <td class="gt_row gt_left">edwin.dumont@example.com</td>
    </tr>
    <tr>
      <td class="gt_row gt_left">Leonora</td>
      <td class="gt_row gt_left">Garcia</td>
      <td class="gt_row gt_right">24.6</td>
      <td class="gt_row gt_left">leonora.garcia@example.com</td>
    </tr>
  </tbody>
  
  
</table></div>

---
class: inverse, middle

# .big[Tabellen darstellen]

---
background-image: url("img/untidy-data/untidy-data.004.png")
background-size: contain

.question[
Welche Eigenschaften von Tidy data sind hier nicht erfüllt?
]

.footnote[
Quelle: [Bundesamt für Statistik - Kosten des Gesundheitswesens nach Leistungen]( https://www.bfs.admin.ch/bfs/de/home/statistiken/kataloge-datenbanken/tabellen.assetdetail.14840808.html) 
]
---
background-image: url("img/untidy-data/untidy-data.005.png")
background-size: contain

.question[
Welche Eigenschaften von Tidy data sind hier nicht erfüllt?
]

.footnote[
Quelle: [Bundesamt für Statistik - Kosten des Gesundheitswesens nach Leistungen]( https://www.bfs.admin.ch/bfs/de/home/statistiken/kataloge-datenbanken/tabellen.assetdetail.14840808.html)
]

---
background-image: url("img/untidy-data/untidy-data.006.png")
background-size: contain

.question[
Welche Eigenschaften von Tidy data sind hier nicht erfüllt?
]

.footnote[
Quelle: [Bundesamt für Statistik - Kosten des Gesundheitswesens nach Leistungen]( https://www.bfs.admin.ch/bfs/de/home/statistiken/kataloge-datenbanken/tabellen.assetdetail.14840808.html)
]


---
# Relevanter Unterschied - Ziel der Daten Publikation

.pull-left[
**Daten in Tabellen darstellen**
- Layout
   - Gut leserlich
   - Kompakt
   - Erkenntnis bringend
- Metadaten
]

.pull-right[
**Daten für weitere Nutzung bereitstellen**
- Layout (Tidy data)
   - Eigenschaft 1: Jede Spalte ist eine Variable
   - Eigenschaft 2: Jede Reihe ist eine Beobachtung
   - Eigenschaft 3: Jede Zelle enthält eine Messung
- Keine Metadaten
- Keine Farben, Formatierungen, etc.
- Folgt Standards (Datum: ISO 8601)
- etc.
]

---
class: inverse, middle

# Tabellen darstellen mit dem `{gt}` Package


---
background-image: url("https://gt.rstudio.com/reference/figures/gt_parts_of_a_table.svg")
background-size: cover

.footnote[
Quelle: [gt.rstudio.com](https://gt.rstudio.com/index.html)
]

---
background-image: url("https://gt.rstudio.com/reference/figures/gt_workflow_diagram.svg")
background-size: contain

.footnote[
Quelle: [gt.rstudio.com](https://gt.rstudio.com/index.html)
]

---
.note[

# Demonstration 3 - Tabellen darstellen

1. Schaut mir beim Programmieren zu
2. Macht euch Notizen und stellt Fragen

]

---
# {gt} - Lerne das Package besser kennen

[
&lt;img src="img/gt-test-drive.svg" width="100%" style="display: block; margin: auto;" /&gt;
](https://rstudio.cloud/project/779965)

.footnote[
Quelle: [gt.rstudio.com](https://gt.rstudio.com/index.html)
]

---
# Tabellen dartellen - Packages

- `{kableExtra}`: https://haozhu233.github.io/kableExtra/
- `{formattable}`: https://renkun-ken.github.io/formattable/
- `{DT}`: https://rstudio.github.io/DT/
- `{flextable}`: https://davidgohel.github.io/flextable/
- etc. 

---
class: middle, inverse

# .large[The End]

---
class: middle, inverse

# .large[The End - Noch nicht ganz]

---
# Was habt ihr gelernt?

- 


---
class: middle, inverse

# .large[Wie geht's weiter?]


---
# Projektarbeit

---
# Üben

---
# Vertiefen

---

---
class: middle, inverse

# .big[Hausaufgabe]


---
class: middle, inverse

# .big[Feedback]

---
class: left
background-image: url(img/tor.jpg)
background-position: right
background-size: contain

# Ziele erreicht? 

Bitte ausfüllen: [kutt.it/rstatszh-eval](https://kutt.it/rstatszh-eval)

.pull-left[

.footnote[Photo by: [Virgil Cayasa](https://unsplash.com/@virgilcayasa)]

]

---
# 🌻 Danke 

Für die Aufmerksamkeit!

Für die R packages [{xaringan}](https://github.com/yihui/xaringan) und [{xaringanthemer}](https://github.com/gadenbuie/xaringanthemer) mit welchen die Folien geschrieben wurden.

Eine PDF Version der Folien kann hier heruntergeladen werden: https://github.com/rstatsZH/website/raw/master/slides/e1_d06-data-import-tidy/e1_d06-data-import-tidy.pdf

<hr/>

Für [Data Science in a Box](https://datasciencebox.org/) und [Remaster the Tidyverse](https://github.com/rstudio-education/remaster-the-tidyverse), von welchen ich Materialien für diesen Kurs nutze und welche genau wie diese Folien mit [Creative Commons Attribution Share Alike 4.0 International](https://creativecommons.org/licenses/by-sa/4.0/) lizensiert sind.
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"slideNumberFormat": "<div class=\"progress-bar-container\">\n  <div class=\"progress-bar\" style=\"width: calc(%current% / %total% * 100%);\">\n  </div>\n</div>\n",
"highlightStyle": "solarized-light",
"highlightLanguage": ["r", "css", "yaml"],
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
