---
title: "Hausaufgabe 01 - Hallo Git!"
---

<script async defer data-domain="rstatszh.github.io/website" src="https://plausible.io/js/plausible.js"></script>

Das Hauptziel dieser Hausaufgabe ist es, dich mit R und RStudio bekannt zu machen. Ein zus√§tzliches Ziel ist es, dich in Git und GitHub einzuf√ºhren, das Kollaborations- und Versionskontrollsystem, das wir w√§hrend des Kurses benutzen werden.

Ich ermutige dich im Laufe der √úbungen √ºber das hinauszugehen was die √úbungen vorgeben. Die Bereitschaft zu experimentieren wird dich zu einer besseren Programmierin machen. Bevor wir soweit sind, ist es wichtig, dass du dir ein paar grundlegende Kenntnisse in R aneignest.

Heute beginnen wir mit den grundlegenden Bausteinen von R und RStudio: die Benutzeroberfl√§che, das Einlesen von Daten und grundlegende Befehle.

Dieses erste Hausaufgabe wird von dir allein durchgef√ºhrt. In zuk√ºnfitgen Hausaufgabeen (oder auch Praktika) wirst du lernen, wie du auf GitHub in kleinen Teams zusammenarbeitest und einen Bericht f√ºr dein Team erstellst.

# Verbindung zu GitHub und RStudio Cloud aufbauen

Du solltest eine Einladung erhalten haben, um der GitHub Organisation f√ºr diesen Kurs beizutreten. Diese Einladung musst du annehmen, bevor du mit dem n√§chsten Schritt fortf√§hrst.

- √ñffne deine Email welche du f√ºr deinen GitHub Konto hinterlegt hast
- Klicke auf "Join"

```{r github-org-1, echo=FALSE}
knitr::include_graphics("img/github-org-1.png")
```

Um deine RStudio und GitHub Konten zu verbinden, befolge die folgenden Schritte:

- √ñffne rstudio.cloud und login mit deinem Benutzerkonto (nutze GitHub)
- Klicke auf deinen Namen in der oberen rechten Ecke, um das rechte Men√º zu √∂ffnen.
- Klicke dann auf "Authentication".

```{r github-auth-1, echo = FALSE}
knitr::include_graphics("img/github-auth.001.png")
```
- Aktiviere im Fenster Authentifizierung das Kontrollk√§stchen f√ºr *Enabled* neben GitHub.

```{r github-auth-2, echo = FALSE}
knitr::include_graphics("img/github-auth.002.png")
```

- Im n√§chsten Fenster klickst du auf das gr√ºne K√§stchen mit der Aufschrift "Authorize rstudio".

```{r github-auth-3, echo = FALSE}
knitr::include_graphics("img/github-auth-3.png")
```

- Zur√ºck im Authentifizierungsfenster in RStudio Cloud aktivierst du nun auch das K√§stchen *Private repo access also enabled*

```{r, echo=FALSE}

knitr::include_graphics("img/github-auth.004.png")

```

- **Wichtig**: Falls Feld *Organisation access* noch kein gr√ºnes H√§kchen neben deinem Kursnamen auftaucht, klickst du nun zun√§chst auf "Request" neben deinem Kursnamen und folgend auf "Request approval from owners". 
- _Hinweis:_ Sollte hier kein Kurs auftauchen, k√∂nnte dies bedeueten, dass du die GitHub-Einladung zum Kurs noch nicht angenommen hast und du solltest zur√ºckgehen und dies √ºberpr√ºfen und nacholen. Falls du keine Einladung hast, kontaktiere mich.
- Nun noch auf das gr√ºne Feld "Authorize rstudio" und nach Eingabe deines Passworts bist du bereit.

```{r github-auth-4, echo = FALSE}
knitr::include_graphics("img/github-auth.005.png")
```
- Sobald du fertig bist, sollten in RStudio Cloud beide K√§stchen markiert sein.

```{r github-auth-5, echo = FALSE}
knitr::include_graphics("img/github-auth-5.png")
```
- Um zu best√§tigen, dass du deine GitHub- und RStudio-Cloud-Konten erfolgreich verkn√ºpft hast, w√§hle [GitHub settings \> Applications](https://github.com/settings/applications). Du solltest RStudio als autorisierte App unter *Authorized OAuth Apps* aufgelistet sehen. Falls nicht, ist dies ein guter Zeitpunkt, um eine Frage zu stellen.

```{r github-auth-6, echo = FALSE}
knitr::include_graphics("img/github-auth-6.png")
```

# Erste Schritte

Jede deiner Aufgaben wird mit den folgenden Schritten beginnen, welche hier im Detail beschrieben sind. In Zukunft wird jede Aufgabe mit einem Abschnitt "Erste Schritte" beginnen, aber mit etwas weniger Details. Du kannst jedoch jederzeit auf diese Hausaufgabe zur√ºckgreifen, um eine detaillierte Liste der Schritte zu erhalten, die notwendig sind, um mit einer Aufgabe zu beginnen.

- Klicke auf den Link welchen ich in einer E-Mail mit dem Betreff (Lars hat das Repo XYZ-Dein-GitHub-Name auf GitHub erstellt) mit dir geteilt habe
- Dies f√ºhrt dich zu deinem pers√∂nlichen GitHub Repository (im Folgenden "Repo" genannt) 
- Dieses Repository enth√§lt eine R Markdown (ha-01.Rmd) Vorlage, auf der du aufbauen kannst, um die Aufgabe zu l√∂sen.
- Auf GitHub klickst du auf den gr√ºnen **Code** Button und w√§hlst **HTTPS** wie im Bild unten. Klicke auf das Klemmbrett-Symbol, um die Repo-URL zu kopieren.

```{r clone-repo-link, fig.margin = TRUE, echo = FALSE, fig.width=3}
knitr::include_graphics("img/clone-repo-link.png")
```

- √ñffne nun RStudio Cloud und den Workspace f√ºr den Kurs. Klicke auf den Abw√§rtspfeil und erstelle ein **New Project from Git Repository**.

```{r new-project-from-gh, fig.margin = TRUE, echo = FALSE, fig.width=3}
knitr::include_graphics("img/new-project-from-gh.png")
```

- F√ºge die URL aus deinem Repo oben in das Dialogfeld ein und stelle sicher, dass das H√§kchen bei "Packages" gesetzt ist.

```{r paste-gh-repo-url, fig.margin = TRUE, echo = FALSE, fig.width=5}
knitr::include_graphics("img/paste-github-repo-url.png")
```

```{r arrow-base-proejct, echo=FALSE}

knitr::include_graphics("img/arrow-base-project.png")

```

- Klicke auf OK, habe etwas Geduld, und du bist bereit zum logslegen!

## Aufw√§rmen

Bevor wir uns die Daten anschauen, machen wir noch ein paar Aufw√§rm√ºbungen um die R Markdown vorzustellen. 

### YAML

- Im RStudio Cloud Workspace f√ºr den Kurs, klicke auf "Projects"
- √ñffne dein Projekt in dem du darauf klickst (ha01-GitHubName)
- √ñffne die R Markdown (ha-01.Rmd) Datei in deinem Projekt (**Tipp:** Sie befindet sich in dem Ansichtsfenster unten rechts unter dem Reiter "Files")
- √Ñndere den Autorennamen zu deinem Namen, f√ºge ein Datum hinzu und stricke ('knit') das Dokument.

```{r,  echo = FALSE}
knitr::include_graphics("img/screenshot-imgs-002.png")
```

```{r, echo = FALSE}
knitr::include_graphics("img/screenshot-imgs-003.png")
```

Der obere Teil deiner R Markdown Datei (zwischen den drei gestrichelten Linien) wird YAML genannt. Es steht f√ºr "YAML Ain't Markup Language". Es ist ein menschenfreundlicher Standard zur Serialisierung von Daten f√ºr alle Programmiersprachen. Alles, was du wissen musst, ist, dass dieser Bereich YAML genannt wird (wir werden ihn als solchen bezeichnen) und dass er Metainformationen √ºber dein Dokument enth√§lt.

### √Ñnderungen schreiben (commit)

In deinem RStudio, √∂ffne das Fenster mit dem Titel Git im Ansichtsfenster oben rechts.

Wenn du √Ñnderungen an deiner Rmd-Datei gemacht hast, solltest du nun hier den Dateinamen sehen. W√§hle die Datei aus der Liste aus indem du sie anklickst. Dann klicke auf **Diff** √ºber den Dateinamen.

Ein neues Fenster √∂ffnet sich welche dir die *Diff*erenz zwischen dem letzten commit-Zustand des Dokuments (rot) und dem aktuellen aktuellen Zustand zeigt (gr√ºn), welcher deine √Ñnderungen beinhaltet.

Wenn du mit diesen √Ñnderungen zufrieden bist, klicke auf das Kontrollk√§stchen neben dem Dateinamen um einen Haken zu setzen und schreibe "Aktualisiere Autorenname und Datum" in das Feld **Commit message**. Klicke anschliessend auf **Commit**.

```{r update-author-name-commit, fig.fullwidth=TRUE, echo = FALSE}
knitr::include_graphics("img/update-author-name-commit.png")
```

Du musst nicht nach jeder √Ñnderung committen, sondern Zust√§nde, die *f√ºr dich bedeutsam* sind, um sie zu √ºberpr√ºfen, zu vergleichen oder wiederherzustellen.

In den ersten paar Aufgaben werden wir dir genau sagen, wann und mit welchem Text du committen solltest. Im weiteren Verlauf des Kurses wirst du diese Entscheidungen dann selbst treffen.

### √Ñnderungen schieben (push)

Jetzt, wo du ein Update gemacht und diese √Ñnderung committed hast, ist es an der Zeit, diese √Ñnderungen ins Web zu pushen!

Oder genauer gesagt, in dein Repo auf GitHub. Warum das? Damit Andere deine √Ñnderungen sehen k√∂nnen. Und mit Anderen meinen wir das Kursteam (deine Repos in diesem Kurs sind f√ºr dich und uns privat).

Doch bevor du dies ausf√ºhren kannst, musst du noch einen GitHub Personal Access Token (PAT) setzen und f√ºr dich speichern. GitHub erlaubt diesen Zugang √ºber externe Applikationen seit dem 13. August 2021 nicht mehr √ºber das Benutzerpasswort. Die Anweisungen um einen PAT zu erstellen findest du hier:

https://github.com/rstatsZH/kochbuch/tree/main/05-github-pat

Um deine √Ñnderungen nun auf GitHub zu pushen, klicke auf **Push**. Daraufhin erscheint ein Dialogfenster, in dem du zuerst deinen Benutzernamen und dann deinen erstellen Personal Access Token (PAT). 

```{r, echo=FALSE}

knitr::include_graphics("img/push-to-github.001.png")

```

## R Packages

In dieser Hausaufgabe werden wir mit zwei R Packages arbeiten: **datasauRus**, welches den Datensatz enth√§lt, den wir verwenden werden und **tidyverse**. Diese Packages sind bereits f√ºr dich installiert. Du kannst sie laden indem du den folgenden Code-chunk in deiner R Markdown Datei ausf√ºhrst.

```{r message=FALSE}
library(tidyverse) 
library(datasauRus)
```

Beachte, dass die Packages auch mit den gleichen Befehlen in deinem R Markdown Dokument geladen werden.

## Daten

Der Datensatz, mit dem wir heute arbeiten werden, hei√üt `datasaurus_dozen` und befindet sich im R Package `datasauRus`. Eigentlich enth√§lt dieser einzelne Datensatz 13 weitere Datens√§tze, die uns zeigen sollen, warum Datenvisualisierung wichtig ist und wie zusammenfassende Statistiken allein irref√ºhrend sein k√∂nnen. Die verschiedenen Datens√§tze sind durch die Variable `dataset` (Spalte) gekennzeichnet.

Um mehr √ºber das Dataset herauszufinden, gib folgendes in deine Console ein: `?datasaurus_dozen`. Ein Fragezeichen vor dem Namen eines Objekts ruft immer dessen Hilfedatei auf. Ich habe f√ºr dich auch einen Code-chunk hinzugef√ºgt welcher den Code enth√§lt um die Hilfe-Datei f√ºr `datasaurus_dozen` zu √∂ffnen.

# √úbungen

## √úbung 1

- √ñffne die Hilfedatei f√ºr `datasaurus_dozen`
- Wie viele Zeilen und wie viele Spalten hat der Datensatz `datasaurus_dozen`? 
- Was sind die Variablen, die im Dataframe enthalten sind? 
- F√ºge deine Antworten zu deinem R Markdown Bericht hinzu.

Schauen wir uns an, was diese Datens√§tze sind. Dazu k√∂nnen wir eine *H√§ufigkeitstabelle* (frequency table) der dataset Variable erstellen:

```{r}

datasaurus_dozen %>% 
  group_by(dataset) %>% 
  count() 

```

Der urspr√ºngliche Datasaurus (`dino`) wurde von Alberto Cairo in [diesem gro√üartigen Blogpost](http://www.thefunctionalart.com/2016/08/download-datasaurus-never-trust-summary.html) erstellt. Das andere Dutzend wurde mit Hilfe von Simulated Annealing generiert und der Prozess wird in dem Paper *Same Stats, Different Graphs: Generating Datasets with Varied Appearance and Identical Statistics through Simulated Annealing*^[Matejka, Justin, and George Fitzmaurice. "Same stats, different graphs: Generating datasets with varied appearance and identical statistics through simulated annealing." Proceedings of the 2017 CHI Conference on Human Factors in Computing Systems. ACM, 2017.] von Justin Matejka und George Fitzmaurice beschrieben. In dem Paper simulieren die Autoren eine Vielzahl von Datens√§tzen, die die gleichen zusammenfassenden Statistiken wie der Datasaurus haben, aber sehr unterschiedliche Verteilungen aufweisen.

üß∂ ‚úÖ ‚¨ÜÔ∏è *Knit, commit und push deine √Ñnderungen auf GitHub mit der Commit-Nachricht "F√ºge Antwort f√ºr √úbung 1 hinzu." Achte darauf, alle ge√§nderten Dateien zu committen und zu pushen, damit dein Git-Fenster danach aufger√§umt ist.*

## √úbung 2

Unten findest du den Code, den du brauchst, um diese n√§chste √úbunge zu l√∂sen. Die Antworten f√ºr 1 und 2 sind schon gegeben und auch in deiner R Markdown Datei enthalten.

1. Plot `y` gegen `x` f√ºr den `dino` Datensatz (Code ist in R Markdown Datei)
2. Berechne dann den Korrelationskoeffizienten zwischen "x" und "y" f√ºr diesen Datensatz. (Code ist in R Markdown Datei)
3. Klicke auf `knit` um das Dokument zu stricken

**Code vorlesen**

Hier siehst du neuen Code, welchen wir noch nicht im Kurs behandelt haben. Dieser kann folgendermassen gelesen werden:

Beginne mit dem `datasaurus_dozen` und leite es in die Funktion `filter`, um nach Beobachtungen zu filtern, bei denen `dataset == "dino"` ist. Speichere den resultierenden gefilterten Dataframe als einen Dataframe namens `dino_data`.

```{r}

dino_data <- datasaurus_dozen %>%
  filter(dataset == "dino")

```

Hier geht eine ganze Menge vor sich, also lassen wir es langsam angehen und nehmen es Schritt f√ºr Schritt auseinander.

Erstens, der Pipe-Operator: `%>%`, nimmt das, was davor kommt und sendet es als erstes Argument an das, was danach kommt. Hier sagen wir also, dass wir den `datasaurus_dozen` Dataframe nach Beobachtungen filtern, bei denen `dataset == "dino"` ist.

Zweitens, der Zuweisungsoperator: `<-`, weist dem gefilterten Dataframe den Namen `dino_data` zu.

Als n√§chstes wollen wir diese Daten visualisieren. Daf√ºr verwenden wir die Funktion `ggplot()`. Das erste Argument sind die Daten, die wir visualisieren wollen. Als n√§chstes definieren wir die `aes`thetischen Mappings (visuelle Eigenschaften). In anderen Worten, die Spalten der Daten, die auf bestimmte visuelle Eigenschaften  des Plots abgebildet werden, z.B. wird die `x`-Achse die Variable namens `x` und die `y`-Achse die Variable namens `y` repr√§sentieren.

Dann f√ºgen wir eine weitere Ebene zu diesem Diagramm hinzu, in der wir definieren, welche geometrischen Formen wir verwenden wollen, um jede Beobachtung in den Daten darzustellen. In diesem Fall wollen wir, dass es sich um Punkte handelt, daher `geom_point()`.

```{r fig.fullwidth=TRUE}
ggplot(data = dino_data, mapping = aes(x = x, y = y)) +
  geom_point()
```

N√§chste Woche wirst du mehr √ºber die Philosophie der Datenvisualisierung in Layern erfahren. F√ºr den Moment kannst du dem Code folgen, welcher dir zur Verf√ºgung gestellt wird.

F√ºr den zweiten Teil dieser √úbungen m√ºssen wir eine zusammenfassende Statistik berechnen: den Korrelationskoeffizienten. Der Korrelationskoeffizient, in der Statistik oft als $r$ bezeichnet, misst den linearen Zusammenhang zwischen zwei Variablen.

Du wirst sehen, dass einige der Variablenpaare, die wir darstellen, keinen linearen Zusammenhang zwischen ihnen haben. Das ist genau der Grund, warum wir zuerst visualisieren wollen: visualisieren, um die Form der Beziehung zu beurteilen, und $r$ nur berechnen, wenn es relevant ist.

In diesem Fall macht die Berechnung eines Korrelationskoeffizienten wirklich keinen Sinn, da die Beziehung zwischen `x` und `y` definitiv nicht linear ist - sie ist dinosaurierhaft!

Aber zur Veranschaulichung lass uns den Korrelationskoeffizienten zwischen "x" und "y" berechnen.

- Beginne mit `dino_data` und berechne eine zusammenfassende Statistik, die wir `r` nennen werden, als die Beziehung (`cor`) zwischen `x` und `y`.

```{r}
dino_data %>%
  summarize(r = cor(x, y))
```

üß∂ ‚úÖ ‚¨ÜÔ∏è *Knit, commit, und pushe deine √Ñnderungen auf GitHub mit der Commit-Nachricht "F√ºge Antwort f√ºr √úbung 2 hinzu." Achte darauf, alle ge√§nderten Dateien zu committen und zu pushen, damit dein Git-Fenster danach aufger√§umt ist.*

## √úbung 3

1. Plotte `y` gegen `x` f√ºr den `star` Datensatz. 

Du kannst (und solltest) den Code, den wir oben genutzt, wiederverwenden, ersetze den Namen des Datensatzes durch den gew√ºnschten Datensatz. Berechne dann den Korrelationskoeffizienten zwischen "x" und "y" f√ºr diesen Datensatz. Wie ist dieser Wert im Vergleich zu `r` von `dino`?

üß∂ ‚úÖ ‚¨ÜÔ∏è *Dies ist ein weiterer guter Ort, um zu pausieren, zu stricken (knit), √Ñnderungen mit der Commit-Nachricht "F√ºge Antwort f√ºr √úbung 3 hinzu." zu committen und zu pushen. Achte darauf, alle ge√§nderten Dateien zu committen und zu pushen, damit dein Git-Fenster danach aufger√§umt ist.*

## √úbung 4

1. Plotte `y` gegen `x` f√ºr den `circle` Datensatz. 

Du kannst (und solltest) den Code, den wir oben genutzt, wiederverwenden, ersetze den Namen des Datensatzes durch den gew√ºnschten Datensatz. Berechne dann den Korrelationskoeffizienten zwischen "x" und "y" f√ºr diesen Datensatz. Wie ist dieser Wert im Vergleich zu `r` von `dino`?

üß∂ ‚úÖ ‚¨ÜÔ∏è *Du kannst erneut pausieren, die √Ñnderungen mit der Commit-Nachricht "F√ºge Antwort f√ºr √úbung 4 hinzu." committen und pushen. Achte darauf, alle ge√§nderten Dateien zu committen und zu pushen, damit dein Git-Fenster danach aufger√§umt ist.*

Super! Ich hoffe, dass du es schaffst in der Hausaufgabe bis hierhin zu kommen. Die n√§chsten beiden √úbungen sind Bonus √úbungen falls du Lust hast noch etwas weiter zu arbeiten.

## √úbung 5 (Bonus)

Zum Schluss wollen wir alle Datens√§tze auf einmal darstellen. Um dies zu tun, werden wir Method f√ºr eine Facettierung nutzen.

Mit einer Facette (facet) durich die Variable `dataset`, platzieren wir die Plots in einem Raster aus drei Spalten, entfernen die Legende und geben der Variable `dataset` eine visuelle Eigenschaft (aesthetic) indem wir es dem Argument 'color' zuordnen.


```{r all-viz, eval=FALSE, fig.fullwidth=TRUE}

ggplot(datasaurus_dozen, aes(x = x, y = y, color = dataset))+
  geom_point()+
  facet_wrap(~ dataset, ncol = 3) +
  theme(legend.position = "none")

```

Und wir k√∂nnen die Funktion `group_by()` in Kombination mit der Funktion `summarize()` verwenden, um alle zusammenfassenden Korrelationskoeffizienten zu erzeugen.

```{r all-r, eval=FALSE}
datasaurus_dozen %>%
  group_by(dataset) %>%
  summarize(r = cor(x, y)) 
```

*Bravo, du bist fertig! √úbertrage alle verbleibenden √Ñnderungen, verwende die Commit-Nachricht "Fertig mit Hausaufgabe 1! *" und pushe. Achte darauf, alle ge√§nderten Dateien zu committen und zu pushen, damit dein Git-Fenster danach aufger√§umt ist. Bevor du die Aufgabe beendest, stelle sicher, dass alle Dokumente in deinem GitHub Repository aktualisiert sind.